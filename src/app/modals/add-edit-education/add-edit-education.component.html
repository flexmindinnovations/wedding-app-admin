<div class="education-modal flex flex-col h-full">
  <div class="header border-b border-b-gray-200  flex items-center justify-start">
    <div class="modal-title">
      <h1 class="m-0 text-base">{{data?.title}}</h1>
    </div>
  </div>
  <div class="body ion-padding border-b border-b-gray-200" [ngClass]="hasSpecializationToggle ? 'flex-grow' : ''">
    <form [formGroup]="formGroup" class="flex flex-col items-start justify-start gap-3"
      [ngClass]="hasSpecializationToggle ? 'min-h-64' : ''">
      <app-input label="Course Name" class="flex-grow-1 w-full" type="text"
        [controlValue]="formGroup.get('educationName')?.value" [control]="formGroupControl['educationName']"
        formControlName="educationName" />

      <mt-checkbox formControlName="hasSpecialization" label="Has Specialization"
        [controlValue]="formGroup.get('hasSpecialization')?.value"
        [control]="formGroupControl['hasSpecialization']" (onToggle)="handleEducationStateChange($event)"></mt-checkbox>

      @if (hasSpecializationToggle) {
      <div class="specialization-list w-full flex flex-col items-start justify-start">
        <div class="add-specialization w-[98%] pl-3 mr-auto py-2 flex items-center justify-between">
          <p>Add Specializations: <span class="text-xs opacity-70">(Maximum 15 items can be added)</span></p>
          <mt-button [title]="'Add Row'" [disabled]="specializationList.length === 15" [iconOnly]="true"
            [isCancel]="true" [icon]="'pi pi-plus'" [size]="'small'" (action)="handleAddRowClick($event)" />
        </div>
        <div class="list-container w-full max-h-72 overflow-auto ion-padding" formArrayName="specializationList">
          @for (item of specializationFormGroup.controls; track $index) {
          <div class="specialization-item w-full flex items-end justify-between gap-5 mb-3" [formGroupName]="$index">
            <app-input [label]="'Specialization Name'" [controlValue]="item?.get('specializationName')?.value"
              class="flex-grow-1 w-full" type="text" [control]="item?.get('specializationName')"
              (inputValue)="handleInputValue($event, item, $index)" formControlName="specializationName" />
            <div class="remove-specialization flex items-center justify-center h-11">
              @if (specializationList.length > 1) {
              <mt-button [iconOnly]="true" [icon]="'pi pi-trash'" [isDelete]="true" size="small"
                (action)="handleRemoveRowClick($index)" />
              }
            </div>
          </div>
          }
        </div>
      </div>
      }


    </form>
  </div>
  <div class="actions flex items-center h-16 justify-end p-3 gap-4">
    <mt-button [title]="'Cancel'" [isCancel]="true" [textOnly]="true" (action)="handleButtonClick($event)" />
    <mt-button [title]="isEditMode ? 'Update' : 'Save'" [icon]="isEditMode ? 'pi pi-file-plus' : 'pi pi-save'" (action)="handleButtonClick($event)" />
  </div>
</div>