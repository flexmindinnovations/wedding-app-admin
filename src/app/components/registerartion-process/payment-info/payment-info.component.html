<div class="personal-info-container h-full flex flex-col gap-5 items-center justify-center md:lg:ion-padding">
  <div class="form-wrapper w-full flex-auto flex items-center justify-center h-full overflow-auto">
    <mt-button title="Complete payment" icon="pi pi-indian-rupee" (action)="showPopup()"></mt-button>
  </div>

</div>

<ng-container>
  <p-dialog #sessionExpired [header]="'Payment'" [(visible)]="showPaymentConfirmationDialog" appendTo="body"
    [modal]="true" [closable]="false" [style]="getDialogStyle()" [draggable]="false" [resizable]="false">
    <div class="flex gap-4 flex-row mt-0 mb-6">
      <div class="flex items-start justify-center">
          <p-radioButton 
              name="cash" 
              value="cash" 
              [(ngModel)]="paymentMode" 
              inputId="cash1" />
          <label for="cash1" class="ml-2 pl-1 pt-0.5">
              Cash
          </label>
      </div>
      <div class="flex items-start justify-center">
          <p-radioButton 
              name="online" 
              value="online" 
              [(ngModel)]="paymentMode" 
              inputId="online1" />
          <label for="online1" class="ml-2 pl-1 pt-0.5">
              Online
          </label>
      </div>
  </div>
    <div class="flex flex-col items-center justify-center h-full w-full gap-4">
      @if(paymentMode === 'online'){
        <form [formGroup]="formGroup" class="flex flex-col gap-5 w-full">
          <app-input label="First Name" type="text" [control]="formGroupControl['firstName']" formControlName="firstName"
            [controlValue]="formGroup.get('firstName')?.value" />
          <app-input label="Last Name" type="text" [control]="formGroupControl['firstName']" formControlName="firstName"
            [controlValue]="formGroup.get('firstName')?.value" />
          <app-input label="Email" type="text" [control]="formGroupControl['email']" formControlName="email"
            [controlValue]="formGroup.get('email')?.value" />
          <app-input label="Mobile Number" type="text" [control]="formGroupControl['mobile']" formControlName="mobile"
            [controlValue]="formGroup.get('mobile')?.value" />
          <app-input label="Amout" type="text" [control]="formGroupControl['amount']" formControlName="amount"
            [controlValue]="formGroup.get('amount')?.value" />
        </form>
      }

      <div class="action w-full flex items-center justify-end gap-5">
        <mt-button [isCancel]='true' title="Cancel" (action)="showPaymentConfirmationDialog = false" />
        @if(paymentMode === 'online'){
          <mt-button [disabled]="formGroup.invalid"  title="Proceed to payment page" (action)="handlePayment()" />
        }@else{
          <mt-button title="Submit" (action)="handleSubmit()" />
        }
        
      </div>
    </div>
  </p-dialog>
</ng-container>