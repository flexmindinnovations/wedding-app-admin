<!-- <ngx-loading-bar [includeSpinner]="false"></ngx-loading-bar> -->
<ion-split-pane contentId="main-content" class="flex min-h-screen min-w-full bg-slate-200 dark:bg-gray-900">
  <ion-menu class="hidden ion-no-padding border-r md:flex lg:flex "
    [ngClass]="isCollapsed ? menuClassess['collapsed'] : menuClassess['expanded']" contentId="main-content"
    type="overlay">
    <ion-content class="ion-no-padding">
      <app-sidebar (isCollapsed)="handleIsCollapsed($event)"></app-sidebar>
    </ion-content>
  </ion-menu>
  <main id="main-content" class="ion-page content w-full flex-grow-1">
    <!-- <app-layout [isCollapsed]="isCollapsed" class="w-full h-full"></app-layout> -->
    <div class="layout flex flex-col min-h-screen">
      <div class="bg-white dark:bg-gray-900 border-b h-14">
        <app-header></app-header>
      </div>
      <ion-content class="dark:bg-gray-900 flex-grow">
        <ion-router-outlet id="main-content"></ion-router-outlet>
      </ion-content>
    </div>
  </main>
</ion-split-pane>
<!-- @if (isTimeOut) {
<div class="modal-container blur-lg bg-black/500 h-screen w-screen">
  <ion-modal #timeOutModal [isOpen]="isTimeOut" [showBackdrop]="true" [backdropDismiss]="false"
    [cssClass]="'timeout-container'">
    <ng-template>
      <ion-content class="ion-padding flex flex-col items-center justify-center gap-5">
        <p>
          Your session has been ended due to inactivity. Please login again to continue...
        </p>
      </ion-content>
    </ng-template>
  </ion-modal>
</div>
} -->

<ng-container>
  <p-dialog [(visible)]="showLogoutModal" appendTo="body" [modal]="true" [closable]="false" [style]="{ width: '30vw' }"
    [draggable]="false" [resizable]="false">
    <div class="flex flex-col items-center justify-center h-full w-full gap-3">
      <i class="pi pi-spin pi-spinner" style="font-size: 2rem"></i>
      <p>
        Logging out, please waite...
      </p>
    </div>
  </p-dialog>
</ng-container>

<ng-container>
  <p-dialog #sessionExpired [header]="'Session Expired'" [(visible)]="showSessionExpiredDialog" appendTo="body"
    [modal]="true" [closable]="false" [style]="{ width: '33vw' }" [draggable]="false" [resizable]="false">
    <div class="flex flex-col items-center justify-center h-full w-full gap-4">
      <p class="select-none">
        Your session is expired, please sign in again to continue.
      </p>
      <div class="action w-full flex items-center justify-end">
        <mt-button title="Sign In" (action)="handleSignIn()" />
      </div>
    </div>
  </p-dialog>
</ng-container>